variables:
  PROJECT_NAME: "BeanCannon"
before_script:
  - echo "starting build for %PROJECT_NAME%"
  - mkdir -p .nuget
  - echo "Downloading NuGet..."
  - wget -O .nuget/nuget.exe https://dist.nuget.org/win-x86-commandline/latest/nuget.exe
  - echo "Restoring NuGet Packages..."
  - .nuget/nuget.exe # Output NuGet's version number
  - .nuget/nuget.exe restore "src/%PROJECT_NAME%.sln"
stages:
  - build
  - test
build:
  stage: build
  script:
  - echo "Release build..."
  - '"C:/Windows/Microsoft.NET/Framework64/v4.0.30319/msbuild.exe" /consoleloggerparameters:ErrorsOnly /maxcpucount /nologo /property:Configuration=Release /verbosity:quiet "src/%PROJECT_NAME%.sln"'
  artifacts:
    untracked: true
